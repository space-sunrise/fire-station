- type: entity
  id: Scp096
  suffix: SCP-096
  parent:
  - BaseScp
  - MobCombat
  - MobBloodstream
  - StripableInventoryBase
  components:
  - type: Sprite
    sprite: _Scp/Mobs/Scp/scp-096.rsi
    offset: 0, 0.35
    layers:
    - state: idle
      map: [ "enum.Scp096VisualsState.Idle", "idle" ]
    - state: idle_agro
      map: [ "enum.Scp096VisualsState.Agro", "agro" ]
      visible: false
    - state: dead
      map: [ "enum.Scp096VisualsState.Dead"]
      visible: false
    - state: heating
      map: [ "enum.Scp096VisualsState.Heating"]
      visible: false
    - state: dead_to_idle
      map: [ "enum.Scp096VisualsState.DeadToIdle" ]
      visible: false
    - state: agro_to_dead
      map: [ "enum.Scp096VisualsState.AgroToDead" ]
      visible: false
  - type: SpriteMovement
    movementLayers:
      idle:
        state: walking
      agro:
        state: running
    noMovementLayers:
      idle:
        state: idle
      agro:
        state: idle_agro
  - type: Scp
    class: Euclid
  - type: Scp096
    pickupBlacklist:
      components:
      - Gun
      - MeleeWeapon
      - Ensnaring # Болы
      - Handcuff
      - EmbeddableProjectile
      - DamageOtherOnHit
      - Storage
      - EntityStorage
  - type: ScpRestriction
    canBeDisarmed: true
    canTakeStaminaDamage: true
    canStandingState: true
  - type: FearSource
    uponSeenState: Fear
  - type: ShowBlinkable
  - type: ScpAnnounceOnSpawn
    text: scp096-announce-on-spawn
    channels:
    - ScientificService
    - HeavyContainmentSecurityService
  - type: BloodSplatterer
    amount: 5, 10
    distance: 5, 40
    probability: 1
    bloodLineProbability: 0.7
    pierceLevel: HardenedMetal
    attackSound:
      collection: GibCollection
      params:
        variation: 0.125
        maxDistance: 10
  - type: BreakDoorOnCollide
    enabled: false
  - type: Prying
    enabled: false
    pryPowered: true
    force: true
    speedModifier: 0.6
    useSound:
      path: /Audio/_Scp/Scp096/prydoor.ogg
      params:
        volume: -4
  - type: ActionGrant
    actions:
    #- Scp096CryOut - Требует механику ремонта стен, отключено до реализации.
    - Scp096FaceSkinRip
    - Scp096SitDown
  - type: SafeTime
  - type: ContainerContainer
    containers:
      face_slot: !type:ContainerSlot
  - type: ComplexInteraction
  - type: Hands
    showInHands: false
    disableExplosionRecursion: true
  - type: GhostPanelAntagonistMarker
    name: ghost-panel-antagonist-scp-name
    description: ghost-panel-antagonist-scp-description
    priority: -10
  - type: Pullable
  - type: StandingState
  - type: StatusIcon
    bounds: -0.6, -1, 0.6, 1
  - type: ShowScp096FaceDamageHud
  - type: MeleeWeapon
    bluntStaminaDamageFactor: 1.0
    altDisarm: false
    soundHit: null
    angle: 0
    animation: WeaponArcClaw
    wideAnimation: WeaponArcClaw
    attackRate: 2.5
    damage:
      types:
        Slash: 27
        Structural: 110
        Bloodloss: 5
  - type: MeleeThrowOnHit
    speed: 2
    distance: 0.25
  - type: Body
    prototype: Human # TODO: Кастомное тело
  - type: Inventory
    templateId: scp096
  - type: Blindable
  - type: Climbing
  - type: Muted
  - type: Stamina
    stunTime: 12
    critThreshold: 400
    animationThreshold: 220
    stunModifierThresholds:
      0: 1
      70: 0.85
      120: 0.7
      180: 0.55
      230: 0.4
  - type: Damageable
    damageModifierSet: SCP-096
  - type: ScpExaminableDamage
    generalMessages:
    - scp096-face-damaged-0
    - scp096-face-damaged-1
    - scp096-face-damaged-2
    - scp096-face-damaged-3
    - scp096-face-damaged-4
    - scp096-face-damaged-5
    departmentMessages:
      ScientificService:
      - scp096-face-damaged-0-science
      - scp096-face-damaged-1-science
      - scp096-face-damaged-2-science
      - scp096-face-damaged-3-science
      - scp096-face-damaged-4-science
      - scp096-face-damaged-5-science
    jobMessages:
      ScientificServiceDirector:
      - scp096-face-damaged-0-science
      - scp096-face-damaged-1-science
      - scp096-face-damaged-2-science
      - scp096-face-damaged-3-science
      - scp096-face-damaged-4-science
      - scp096-face-damaged-5-science
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.25,-0.4,0.25,0.4"
        density: 500
        mask:
        - MobMask
        layer:
        - MobLayer
  - type: MobThresholds
    thresholds:
      0: Alive
  - type: MovementSpeedModifier
    baseWalkSpeed: 1.5
    baseSprintSpeed: 1.5
  - type: StatusEffects
    allowed:
    - SlowedDown
    - Stutter
    - Electrocution
    - ForcedSleep
    - TemporaryBlindness
    - Pacified
    - Flashed
    - RadiationProtection
    - Drowsiness
  - type: Bloodstream
    bloodReagent: Scp096Blood
  - type: SolutionRegeneration
    solution: bloodstream
    generated:
      reagents:
      - ReagentId: Scp096Blood
        Quantity: 5
  - type: GuideHelp
    guides:
    - Scp096About
    - ScpResearch
    - ScpResearchAdvanced
    - ScpFear

- type: entity
  id: Scp096Face
  save: false
  categories: [ HideSpawnMenu ]
  # TODO: Локализация, имя, описание
  components:
  # TODO: Спрайты
  # TODO: Алерт с лицом скромника, отображающий его состояние
  - type: Scp096Face
  - type: Damageable
    damageContainer: Biological
    damageModifierSet: Scp096FaceSet
  - type: MobState
    allowedStates:
    - Alive
    - Dead
  - type: MobThresholds
    allowRevives: false
    thresholds:
      0: Alive
      100: Dead
  - type: PassiveDamage
    allowedStates:
    - Dead
    # Примерно 15 минут до полного излечения
    damage:
      types:
        Blunt: -0.1
  - type: Bloodstream
    bloodReagent: Scp096Tears
    bloodMaxVolume: 100
    bloodlossDamage:
      types:
        Bloodloss:
          0.5
    bloodlossHealDamage:
      types:
        Bloodloss:
          -0.25
  - type: SolutionRegeneration
    solution: bloodstream
    generated:
      reagents:
      - ReagentId: Scp096Tears
        Quantity: 20
  - type: BloodSplatterer
    amount: 1, 2
    distance: 5, 10
    particleSpawnedSound: null
    particles:
    - LiquidParticle1
    - LiquidParticle2
    - LiquidParticle3
  - type: LiquidParticlesGenerator
    cooldown: 3
    angle: -90
    radians: 0.75
