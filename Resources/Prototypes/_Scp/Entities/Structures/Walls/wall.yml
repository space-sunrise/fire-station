- type: entity
  id: ScpBaseWallDamageOnSpawn
  abstract: true
  components:
  - type: RandomDamageOnTrigger
    ignoreResistancesForDamage: true
    damageTypes:
    - Structural
    keysIn:
    - random-damage
  - type: TriggerOnSpawn
    keyOut: random-damage

- type: entity
  id: ScpBaseWallDamageableVisuals
  abstract: true
  components:
  - type: DamageVisuals
    supportIconSmooth: true
    thresholds: [ 5, 10, 20 ]
    damageDivisor: 9
    trackAllDamage: true
  - type: Appearance

- type: entity
  parent: ScpBaseWallDamageableVisuals
  id: ScpBaseWallDamageableVisualsMetal
  abstract: true
  components:
  - type: DamageVisuals
    damageOverlay:
      sprite: _Scp/Effects/DamageOverlay/metal.rsi
  - type: ExaminableDamage
    messages: ScpWallMetalMessages

- type: entity
  parent: ScpBaseWallDamageableVisuals
  id: ScpBaseWallDamageableVisualsConcrete
  abstract: true
  components:
  - type: DamageVisuals
    damageDivisor: 60
    damageOverlay:
      sprite: _Scp/Effects/DamageOverlay/concrete.rsi
  - type: ExaminableDamage
    messages: ScpWallConcreteMessages

- type: entity
  parent: ScpBaseWallDamageableVisuals
  id: ScpBaseWallDamageableVisualsReinforcedConcrete
  abstract: true
  components:
  - type: DamageVisuals
    damageDivisor: 160
    damageOverlay:
      sprite: _Scp/Effects/DamageOverlay/concrete.rsi
  - type: ExaminableDamage
    messages: ScpWallReinforcedConcreteMessages

- type: entity
  parent: ScpBaseWallDamageableVisuals
  id: ScpBaseWallDamageableVisualsBrick
  abstract: true
  components:
  - type: DamageVisuals
    damageDivisor: 30
    damageOverlay:
      sprite: _Scp/Effects/DamageOverlay/brick.rsi
  - type: ExaminableDamage
    messages: ScpWallBrickMessages

# Стена
- type: entity
  parent:
  - WallSolid
  - ScpBaseWallDamageableVisualsMetal
  - ScpBaseWallDamageOnSpawn
  id: ScpWallSolid
  name: wall
  components:
  - type: Sprite
    sprite: _Scp/Structures/Walls/solid.rsi
  - type: Icon
    sprite: _Scp/Structures/Walls/solid.rsi
  - type: Damageable
    damageContainer: StructuralInorganic
    damageModifierSet: StructuralMetallicScp

- type: entity
  parent:
  - WallSolidRust
  - ScpBaseWallDamageableVisualsMetal
  - ScpBaseWallDamageOnSpawn
  id: ScpWallSolidRust
  name: wall
  components:
  - type: Sprite
    sprite: _Scp/Structures/Walls/solid_rust.rsi
  - type: Icon
    sprite: _Scp/Structures/Walls/solid_rust.rsi
  - type: Damageable
    damageContainer: StructuralInorganic
    damageModifierSet: StructuralMetallicScp
  - type: DamageVisuals
    damageDivisor: 7
  - type: Tag
    tags:
    - Wall
    - MetaGarbageSavable
    - MetaGarbageReplace

- type: entity
  parent: WallShuttleDiagonal
  id: ScpWallSolidDiagonal
  name: solid wall
  suffix: diagonal
  placement:
    mode: SnapgridCenter
    snap:
    - Wall
  components:
  - type: Sprite
    drawdepth: Walls
    sprite: _Scp/Structures/Walls/solid_diagonal.rsi
    state: state0
  - type: IconSmooth
    mode: Diagonal
    key: walls
    base: state
  - type: Icon
    sprite: _Scp/Structures/Walls/solid_diagonal.rsi
    state: state0
  - type: Damageable
    damageContainer: StructuralInorganic
    damageModifierSet: StructuralMetallicScp

# Укрепленная стена
- type: entity
  parent:
  - WallReinforced
  - ScpBaseWallDamageableVisualsMetal
  - ScpBaseWallDamageOnSpawn
  id: ScpWallReinforced
  name: reinforced wall
  components:
  - type: Sprite
    sprite: _Scp/Structures/Walls/solid.rsi
  - type: Icon
    sprite: _Scp/Structures/Walls/solid.rsi
  - type: Damageable
    damageContainer: StructuralInorganic
    damageModifierSet: StructuralMetallicStrongScp
  - type: DamageVisuals
    damageDivisor: 90
  - type: Destructible
    thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 1800
        behaviors:
          - !type:DoActsBehavior
            acts: [ "Destruction" ]
      - trigger:
          !type:DamageTrigger
          damage: 1500
        behaviors:
          - !type:SpawnEntitiesBehavior
            spawn:
              ReinforcedGirder:
                min: 1
                max: 1
          - !type:DoActsBehavior
            acts: [ "Destruction" ]

- type: entity
  parent:
  - WallReinforcedRust
  - ScpBaseWallDamageableVisualsMetal
  - ScpBaseWallDamageOnSpawn
  id: ScpWallReinforcedRust
  name: reinforced wall
  components:
  - type: Sprite
    sprite: _Scp/Structures/Walls/solid_rust.rsi
  - type: Icon
    sprite: _Scp/Structures/Walls/solid_rust.rsi
  - type: Damageable
    damageContainer: StructuralInorganic
    damageModifierSet: StructuralMetallicStrongScp
  - type: DamageVisuals
    damageDivisor: 70
  - type: Tag
    tags:
    - Wall
    - MetaGarbageSavable
    - MetaGarbageReplace
  - type: Destructible
    thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 1400
        behaviors:
          - !type:DoActsBehavior
            acts: [ "Destruction" ]
      - trigger:
          !type:DamageTrigger
          damage: 1100
        behaviors:
          - !type:SpawnEntitiesBehavior
            spawn:
              ReinforcedGirder:
                min: 1
                max: 1
          - !type:DoActsBehavior
            acts: [ "Destruction" ]

- type: entity
  parent: WallShuttleDiagonal
  id: ScpWallReinforcedDiagonal
  name: reinforced wall
  suffix: diagonal
  placement:
    mode: SnapgridCenter
    snap:
    - Wall
  components:
  - type: Tag
    tags:
    - Diagonal
  - type: Sprite
    drawdepth: Walls
    sprite: _Scp/Structures/Walls/reinforced_diagonal.rsi
    state: state0
  - type: IconSmooth
    mode: Diagonal
    key: walls
    base: state
  - type: Icon
    sprite: _Scp/Structures/Walls/reinforced_diagonal.rsi
    state: state0
  - type: Damageable
    damageContainer: StructuralInorganic
    damageModifierSet: StructuralMetallicStrongScp
  - type: Destructible
    thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 1800
        behaviors:
          - !type:DoActsBehavior
            acts: [ "Destruction" ]
      - trigger:
          !type:DamageTrigger
          damage: 1500
        behaviors:
          - !type:SpawnEntitiesBehavior
            spawn:
              ReinforcedGirder:
                min: 1
                max: 1
          - !type:DoActsBehavior
            acts: [ "Destruction" ]

# База бетона
- type: entity
  parent:
  - WallBrick
  - ScpBaseWallDamageableVisualsConcrete
  - ScpBaseWallDamageOnSpawn
  id: ScpWallConcreteBase
  name: concrete wall
  abstract: true
  components:
  - type: Damageable
    damageContainer: StructuralInorganic
    damageModifierSet: StructuralMetallicScp
  - type: Destructible
    thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 1300
        behaviors:
        - !type:DoActsBehavior
          acts: ["Destruction"]
        - !type:PlaySoundBehavior
          sound:
            path: /Audio/Effects/break_stone.ogg
            params:
              volume: -6
      - trigger:
          !type:DamageTrigger
          damage: 1000
        behaviors:
        - !type:SpawnEntitiesBehavior
          spawn:
            PartRodMetal1:
              min: 1
              max: 3
        - !type:DoActsBehavior
          acts: [ "Destruction" ]
        - !type:PlaySoundBehavior
          sound:
            path: /Audio/Effects/break_stone.ogg
            params:
              volume: -6

# Бетонная стена
- type: entity
  parent: ScpWallConcreteBase
  id: ScpWallConcrete
  name: concrete wall
  components:
  - type: Sprite
    sprite: _Scp/Structures/Walls/concrete.rsi
  - type: Icon
    sprite: _Scp/Structures/Walls/concrete.rsi
  - type: IconSmooth
    key: walls
    base: concrete
  - type: Construction
    graph: concreteWall
    node: concreteWallEnd

- type: entity
  parent: ScpWallSolidDiagonal
  id: ScpWallConcreteDiagonal
  name: concrete wall
  components:
  - type: Sprite
    drawdepth: Walls
    sprite: _Scp/Structures/Walls/concrete_diagonal.rsi
    state: state0
  - type: IconSmooth
    key: walls
    base: state
  - type: Icon
    sprite: _Scp/Structures/Walls/concrete_diagonal.rsi
    state: state0
  - type: Damageable
    damageContainer: StructuralInorganic
    damageModifierSet: StructuralMetallicScp
  - type: Construction
    graph: concreteWallDiagonal
    node: concreteWallDiagonalEnd
  - type: Destructible
    thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 1200
        behaviors:
        - !type:DoActsBehavior
          acts: ["Destruction"]
        - !type:PlaySoundBehavior
          sound:
            path: /Audio/Effects/break_stone.ogg
            params:
              volume: -6
      - trigger:
          !type:DamageTrigger
          damage: 800
        behaviors:
        - !type:SpawnEntitiesBehavior
          spawn:
            PartRodMetal1:
              min: 1
              max: 2
        - !type:DoActsBehavior
          acts: [ "Destruction" ]
        - !type:PlaySoundBehavior
          sound:
            path: /Audio/Effects/break_stone.ogg
            params:
              volume: -6

# Стена Лёгкой Зоны Содержания
- type: entity
  parent: ScpWallConcreteBase
  id: ScpWallConcreteLightContaiment
  name: concrete wall low contaiment
  components:
  - type: Sprite
    sprite: _Scp/Structures/Walls/concrete_low_contaiment.rsi
  - type: Icon
    sprite: _Scp/Structures/Walls/concrete_low_contaiment.rsi
  - type: IconSmooth
    key: walls
    base: concrete_low_contaiment
  - type: Construction
    graph: concreteWallLightContaiment
    node: concreteWallLightContaimentEnd

# Стена Административной Зоны / Научной
- type: entity
  parent: ScpWallConcreteBase
  id: ScpWallConcreteScience
  name: concrete wall science sector
  components:
  - type: Sprite
    sprite: _Scp/Structures/Walls/concrete_science.rsi
  - type: Icon
    sprite: _Scp/Structures/Walls/concrete_science.rsi
  - type: IconSmooth
    key: walls
    base: concrete_science
  - type: Construction
    graph: concreteWallScience
    node: concreteWallScienceEnd

# Стена Инженерии
- type: entity
  parent: ScpWallConcreteBase
  id: ScpWallConcreteEngineer
  name: concrete wall engineer sector
  components:
  - type: Sprite
    sprite: _Scp/Structures/Walls/concrete_engineer.rsi
  - type: Icon
    sprite: _Scp/Structures/Walls/concrete_engineer.rsi
  - type: IconSmooth
    key: walls
    base: engineer
  - type: Construction
    graph: concreteWallEngineer
    node: concreteWallEngineerEnd

# Стена Мед отдела
- type: entity
  parent: ScpWallConcreteBase
  id: ScpWallConcreteMedical
  name: concrete wall medical sector
  components:
  - type: Sprite
    sprite: _Scp/Structures/Walls/concrete_medical.rsi
  - type: Icon
    sprite: _Scp/Structures/Walls/concrete_medical.rsi
  - type: IconSmooth
    key: walls
    base: medical
  - type: Construction
    graph: concreteWallMedical
    node: concreteWallMedicalEnd

# Стена Сдерживания

# TODO: Исправить опечатку Metall -> Metal
- type: entity
  parent:
  - BaseWall
  - ScpBaseWallDamageableVisualsReinforcedConcrete
  - ScpBaseWallDamageOnSpawn
  id: ScpWallConcreteMetallHardContaiment
  name: metall wall hard contaiment
  components:
  - type: Sprite
    sprite: _Scp/Structures/Walls/metall_hard_contaiment.rsi
  - type: Icon
    sprite: _Scp/Structures/Walls/metall_hard_contaiment.rsi
  - type: IconSmooth
    key: walls
    base: metall_hard_contaiment
  - type: Damageable
    damageContainer: StructuralInorganic
    damageModifierSet: StructuralMetallicHardCellsScp
  - type: Destructible
    thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 2700
        behaviors:
          - !type:DoActsBehavior
            acts: [ "Destruction" ]
      - trigger:
          !type:DamageTrigger
          damage: 2500
        behaviors:
          - !type:SpawnEntitiesBehavior
            spawn:
              ReinforcedGirder:
                min: 1
                max: 1
          - !type:DoActsBehavior
            acts: [ "Destruction" ]

- type: entity
  parent: WallShuttleDiagonal
  id: ScpWallConcreteMetallHardContaimentDiagonal
  name: metall wall hard contaiment
  placement:
    mode: SnapgridCenter
    snap:
    - Wall
  components:
  - type: Tag
    tags:
    - Diagonal
  - type: Sprite
    sprite: _Scp/Structures/Walls/metall_hard_contaiment_diagonal.rsi
    state: state0
  - type: Icon
    sprite: _Scp/Structures/Walls/metall_hard_contaiment_diagonal.rsi
    state: state0
  - type: IconSmooth
    mode: Diagonal
    key: walls
    base: state
  - type: Damageable
    damageContainer: StructuralInorganic
    damageModifierSet: StructuralMetallicHardCellsScp
  - type: Destructible
    thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 2700
        behaviors:
          - !type:DoActsBehavior
            acts: [ "Destruction" ]
      - trigger:
          !type:DamageTrigger
          damage: 2500
        behaviors:
          - !type:SpawnEntitiesBehavior
            spawn:
              ReinforcedGirder:
                min: 1
                max: 1
          - !type:DoActsBehavior
            acts: [ "Destruction" ]

# Огнеупорный Кирпич
- type: entity
  parent:
  - WallBrick
  - ScpBaseWallDamageableVisualsBrick
  - ScpBaseWallDamageOnSpawn
  id: ScpWallFireBrick
  name: fire brick wall
  components:
  - type: Sprite
    sprite: _Scp/Structures/Walls/fire_brick.rsi
  - type: Icon
    sprite: _Scp/Structures/Walls/fire_brick.rsi
  - type: IconSmooth
    key: walls
    base: fire_brick
  - type: Destructible
    thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 700
        behaviors:
          - !type:DoActsBehavior
            acts: [ "Destruction" ]
      - trigger:
          !type:DamageTrigger
          damage: 500
        behaviors:
          - !type:SpawnEntitiesBehavior
            spawn:
              Girder:
                min: 1
                max: 1
          - !type:DoActsBehavior
            acts: [ "Destruction" ]

# Ограничители карт
- type: entity
  id: ScpFogWallBorder
  name: dense fog
  description: It looks way too dangerous to traverse.
  suffix: Permanent
  placement:
    mode: SnapgridCenter
    snap:
    - Wall
  components:
  - type: Transform
    anchored: true
  - type: Sprite
    drawdepth: Effects
    sprite: _Scp/Structures/Walls/fog_wall.rsi
    state: smoke
  - type: PlacementReplacement
    key: walls
  - type: Physics
    bodyType: Static
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.5,-0.5,0.5,0.5"
        mask:
        - FullTileMask
        layer:
        - WallLayer
        density: 1000
  - type: Occluder

- type: entity
  parent: BaseWall
  id: ScpWallRockBorder
  name: hardened rock wall
  description: A rough wall of hardened rock.
  components:
  - type: Sprite
    sprite: _Scp/Structures/Walls/cave.rsi
    color: "#E2F9FF"
  - type: Icon
    sprite: _Scp/Structures/Walls/cave.rsi
    state: cavewall
  - type: IconSmooth
    key: walls
    base: cavewall
  - type: Damageable
    damageContainer: StructuralInorganic
    damageModifierSet: StructuralMetallicStrongScp
  - type: RadiationBlocker
    resistance: 5

- type: entity
  parent: ScpWallRockBorder
  id: ScpWallRockBorderCave
  components:
  - type: Sprite
    color: "#4b4b4a"

- type: entity
  parent: ScpWallRockBorder
  id: ScpWallRockBorderSand
  components:
  - type: Sprite
    color: "#987654"

- type: entity
  parent: ScpWallRockBorder
  id: ScpWallRockBorderRedSand
  components:
  - type: Sprite
    color: "#8C4731"

- type: entity
  parent: ScpWallRockBorder
  id: ScpWallRockBorderBasalt
  components:
  - type: Sprite
    color: "#3b3b3b"

# Камень
- type: entity
  parent: BaseWall
  id: ScpWallRock
  name: rock wall
  description: A rough wall of rock.
  components:
  - type: Transform
    noRot: true
  - type: Sprite
    sprite: _Scp/Structures/Walls/cave.rsi
    color: "#E2F9FF"
  - type: Icon
    sprite: _Scp/Structures/Walls/cave.rsi
    state: cavewall
  - type: IconSmooth
    key: walls
    base: cavewall
  - type: Damageable
    damageContainer: StructuralInorganic
    damageModifierSet: Rock
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 540
      behaviors:
      - !type:DoActsBehavior
        acts: ["Destruction"]
      - !type:PlaySoundBehavior
        sound:
          path: /Audio/Effects/break_stone.ogg
          params:
            volume: -6
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.5,-0.5,0.5,0.5"
        mask:
        - FullTileMask
        layer:
        - WallLayer
        density: 2000

- type: entity
  parent: ScpWallRock
  id: ScpWallRockCave
  components:
  - type: Sprite
    color: "#4b4b4a"

- type: entity
  parent: ScpWallRock
  id: ScpWallRockSand
  components:
  - type: Sprite
    color: "#987654"

- type: entity
  parent: ScpWallRock
  id: ScpWallRockRedSand
  components:
  - type: Sprite
    color: "#8C4731"

- type: entity
  parent: ScpWallRock
  id: ScpWallRockBasalt
  components:
  - type: Sprite
    color: "#3b3b3b"

# Измерение Деда (SCP-106)
- type: entity
  parent: BaseWall
  id: ScpWallFlesh106
  name: rotting flesh
  description: A rotten piece of meat. The stench is terrible. You obviously don't want to touch it.
  components:
  - type: Sprite
    sprite: _Scp/Structures/Walls/flesh106.rsi
  - type: Icon
    sprite: _Scp/Structures/Walls/flesh106.rsi
  - type: IconSmooth
    key: walls
    base: flesh
  - type: Damageable
    damageContainer: StructuralInorganic
    damageModifierSet: StructuralMetallicStrongScp
